<!-- <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
</script> -->
<script
  src="jquery-3.3.1.min.js">
</script>
<script src="https://kit.fontawesome.com/a123c97772.js"></script>



<!-- bootstrap specific //-->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->

<link rel="stylesheet" href="bootstrap.min.css">
<script src="popper.min.js"></script>
<script src="bootstrap.min.js"></script>


<script src="configpanel.js"></script>
<script src="channelpanel.js"></script>
<script src="editableFields.js"></script>
<script src="common.js"></script>
<!-- <script src="http://192.168.1.1/configpanel.js"></script>
<script src="http://192.168.1.1/channelpanel.js"></script>
<script src="http://192.168.1.1/editableFields.js"></script>
<script src="http://192.168.1.1/common.js"></script> -->

<div class="passthrough_info" id="init_config" style="display:none">
~!@#$PASSTHROUGH~!@#$
</div>

<html>
<head><title>Edit Configuration</title></head>
<body>

  <input type="hidden" id="mode" value="updatecfg">
  <input type="hidden" id="configsecret" value="defaulterd">


  <div id="message" class="alert alert-warning" role="alert">
  Loading Configuration
  </div>


<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="nodecfg-tab" data-toggle="tab" href="#nodecfg" role="tab" aria-controls="nodecfg" aria-selected="true">Node Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="ch-tab" data-toggle="tab" href="#channels" role="tab" aria-controls="profile" aria-selected="false">Channels</a>
  </li>
</ul>


<div class="container-fluid">




  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="nodecfg" role="tabpanel" aria-labelledby="nodecfg-tab">
    
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">WiFi Status</label>
        <div class="col-sm-10">
          <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="FILL STATUS">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Node Name</label>
        <div class="col-sm-10">
          <input type="text" id="NODENAME"><br>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Node Description</label>
        <div class="col-sm-10">
          <input type="text" id="NODEDESC"><br>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Node Config Password</label>
        <div class="col-sm-10">
          <input type="text" id="PASSWORD"><br>
        </div>
      </div>

      <div class="form-group row">
        <span style="height:30px"></span>
      </div>


      <div class="form-group row">
        <label class="col-sm-2 col-form-label">WiFi SSID</label>
        <div class="col-sm-10">
          <input type="text" id="WIFISSID"><br>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">WiFi Password</label>
        <div class="col-sm-10">
          <input type="text" id="WIFIPW"><br>
        </div>
      </div>

      <div class="form-group row">
        <span style="height:30px"></span>
      </div>


      <div class="form-group row">
        <label class="col-sm-2 col-form-label">IOS Master</label>
        <div class="col-sm-10">
          <input type="text" id="IOSRESOURCES"><br>
        </div>
      </div>

      <input type="button" value="UPDATE CONFIG" onclick="sendNewConfig()">

    </div>






    <div class="tab-pane fade" id="channels" role="tabpanel" aria-labelledby="ch-tab">

    <h2>Channel Definitions:</h2>
    
    
    <input type="button" value="Add Channel" onclick="addNewChannel()">

    <div id='chdefinitions'>

    </div>

    <div id="channelPanel">
    </div>





   

    
    </div>
  </div>

  


</div>
  

    




    
  </form>
</body>
</html>
<script type="text/javascript">
  configData={};
  channelConfigData={};

//  configEndpoint="/CFG";
 // statusEndpoint="/UPD";
  //configEndpoint="http://192.168.88.133/CFG";
  configEndpoint="http://10.0.0.41/CFG";
  //statusEndpoint="http://192.168.88.133/UPD";
  statusEndpoint="http://10.0.0.41/UPD";
  //statusEndpoint="http://192.168.1.1/UPD";
//  configEndpoint="http://192.168.1.1/CFG";
  initConfigPage();
  loadChannelsPanel(config=true);



  testCHConfig='{"CHANNELS":[\
    {"CHANNELID":"1",\
    "NAME":"New Channel 1",\
    "ADDRESSING":"0/0/0/0",\
    "CHMAPPING":"0",\
    "TYPE":"DMXSWITCH"},\
    {"CHANNELID":"2",\
    "NAME":"New Channel 2",\
    "ADDRESSING":"0/0/0/0",\
    "CHMAPPING":"0",\
    "TYPE":"ANALOG"},\
    {"CHANNELID":"3",\
    "NAME":"New Channel 3",\
    "ADDRESSING":"0/0/0/0",\
    "CHMAPPING":"0",\
    "TYPE":"DMXRGB"}\
]}';


  testCHValues='[\
    {"CHANNELID":"1",\
    "VALA":"0",\
    "VALB":"0",\
    "VALC":"0",\
    "FADE":"0"\
    },\
    {"CHANNELID":"2",\
    "VALA":"0",\
    "VALB":"0",\
    "VALC":"0",\
    "FADE":"0"\
    }\
]';


  console.log("loading page");
  //initConfigPage();

  prepareCollapsableSectionHeaders();

  console.log("LOAD END");
  //loadChannelsPanel(true);

</script>
